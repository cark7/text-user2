<div class="content">
    <div *ngIf="loadList">
        <mat-spinner></mat-spinner>
    </div>
    <div class="details" *ngIf="!loadList">
        <div class="header">
            <div class="avatar">
                <div class="circulo">
                    {{userSelected.name[0]}}{{userSelected.name[1]}}
                </div>
            </div>
            <div class="data">
                <h3><strong>Nome:</strong>  {{userSelected.name}}</h3>
                <h4><strong>Email:</strong>  {{userSelected.email}}</h4>
                <p> <strong>Administrador:</strong> {{userSelected.admin? 'É ADMIN':'NÃO É ADMIN'}}</p>
                <p> <strong>Nº de setores vinculados: </strong> {{userSelected.setores.length}}</p>
            </div>
            <div class="actions">
                <div style="display: flex; color: #3f51b5;">
                    <mat-icon>
                        open_in_full
                    </mat-icon>
                    <h2 style="margin-left: 5px; margin-bottom: 5px;">Vincular con Setor</h2>
                </div>
                <div>
                    <mat-form-field appearance="fill" style="width: 190px;">
                        <mat-label>selecione o usuário</mat-label>
                        <mat-select>
                            <mat-option *ngFor="let setor of listSetores" value="one" 
                                        (click)='activeLink(setor)' class="select-setor">{{setor.nome}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div *ngIf="showLink" class="select-sector">
                    <button mat-raised-button color='accent' (click)="vincular()">
                        Vincular
                    </button>
                </div>
            </div>

        </div>
        <div class="detail">
            <div class="card-sector" *ngFor="let sector of userSelected.setores">
                
                <div class="avatar">
                    <h4 class="text-nodevorda"> {{sector.nome}} </h4> 
                    <div class="circulo">
                        <mat-icon>apartment</mat-icon>
                    </div>
                </div>
                <div class="card-info">
                    <div>
                        <label>Email: </label>
                        <h3> {{sector.email}} </h3>
                    </div>
                    <div>
                        <label>Data de criação: </label>
                        <h3> {{fnData(sector.created_at)}}</h3>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <div>
                            <label>Chave: </label>
                            <h3> {{sector.chave_escolha}} </h3>
                        </div>
                        <div style="margin-right: 20px">
                            <label>Ativo: </label>
                            <h3> {{sector.ativo?'Ativo':'Desativado '}} </h3>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>

